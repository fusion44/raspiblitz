"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[6653],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>m});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=a.createContext({}),c=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},d=function(e){var t=c(e.components);return a.createElement(s.Provider,{value:t},e.children)},p="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},h=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,s=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),p=c(n),h=i,m=p["".concat(s,".").concat(h)]||p[h]||u[h]||r;return n?a.createElement(m,o(o({ref:t},d),{},{components:n})):a.createElement(m,o({ref:t},d))}));function m(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,o=new Array(r);o[0]=h;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[p]="string"==typeof e?e:i,o[1]=l;for(var c=2;c<r;c++)o[c]=n[c];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}h.displayName="MDXCreateElement"},7215:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>u,frontMatter:()=>r,metadata:()=>l,toc:()=>c});var a=n(7462),i=(n(7294),n(3905));const r={sidebar_position:2},o="Security Policy",l={unversionedId:"security",id:"security",title:"Security Policy",description:"NOTE: This document is just a first draft and still under construction.",source:"@site/docs/security.md",sourceDirName:".",slug:"/security",permalink:"/raspiblitz/docs/security",draft:!1,editUrl:"https://github.com/fusion44/raspiblitz/tree/main/docs/docs/security.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"blitzSidebar",previous:{title:"Intro",permalink:"/raspiblitz/docs/intro"},next:{title:"RaspiBlitz Setup",permalink:"/raspiblitz/docs/category/raspiblitz-setup"}},s={},c=[{value:"Minimal SD Card Build",id:"minimal-sd-card-build",level:2},{value:"Supported Versions",id:"supported-versions",level:2},{value:"Reporting a Vulnerability",id:"reporting-a-vulnerability",level:2},{value:"Lightning Wallet (default)",id:"lightning-wallet-default",level:2},{value:"Bitcoin Core Wallet (deactivated by default)",id:"bitcoin-core-wallet-deactivated-by-default",level:2}],d={toc:c},p="wrapper";function u(e){let{components:t,...n}=e;return(0,i.kt)(p,(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"security-policy"},"Security Policy"),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},(0,i.kt)("em",{parentName:"p"},"NOTE: This document is just a first draft and still under construction."))),(0,i.kt)("p",null,"Only use this software with funds you could afford to lose. Especially a lightning wallet that is a hot wallet, which has constant connection to the internet and can be target of exploitation."),(0,i.kt)("p",null,"Just because the software is OpenSource does not mean its free of errors. Especially if you run additional apps, the RaspiBlitz team cannot review all the code of those external projects."),(0,i.kt)("p",null,'The software is provided "AS IS", without warranty of any kind. In no event shall the authors or copyright holders be liable for any claim, damages or other\nliability. ',(0,i.kt)("a",{parentName:"p",href:"https://github.com/fusion44/raspiblitz/blob/dev/LICENSE"},"details on legal license")),(0,i.kt)("h2",{id:"minimal-sd-card-build"},"Minimal SD Card Build"),(0,i.kt)("p",null,"To improve the UX for beginners & casual users we decided to preinstall & activate lots of features like LCD, API & WebUI of RaspiBlitz from the beginning and even preinstall/compile a selection of additional apps in the default ",(0,i.kt)("inlineCode",{parentName:"p"},"fatpack")," sd card image. This creates a bigger attack surface and more trusted dependencies on the security side. For more advanced users we also provide a ",(0,i.kt)("inlineCode",{parentName:"p"},"minimal")," sd card image in the download section - which aims to install just the basics and every else will be just installed/compiled on-demand - this is recommended for users (especially on updates) that already know what features they want/need from their RaspiBlitz to run it with the reduced attack surface. To create a minimal sd card yourself run the ",(0,i.kt)("inlineCode",{parentName:"p"},"build_sdcard.sh")," script with the options ",(0,i.kt)("inlineCode",{parentName:"p"},"-f 0")," (fatpack off) & ",(0,i.kt)("inlineCode",{parentName:"p"},"-d headless")," (to not preinstall external LCD drivers)."),(0,i.kt)("h2",{id:"supported-versions"},"Supported Versions"),(0,i.kt)("p",null,"Updates are made only for the latest version."),(0,i.kt)("p",null,"Security patches can be done with ",(0,i.kt)("inlineCode",{parentName:"p"},"MAINMENU > UPDATE > PATCH")," for the current branch in the case of a high risk issue before next release."),(0,i.kt)("p",null,"The latest version always have the ",(0,i.kt)("inlineCode",{parentName:"p"},"latest")," tag. To make sure you are using the latest version, run:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"curl -s https://api.github.com/repos/rootzoll/raspiblitz/releases/latest|grep tag_name|head -1|cut -d '\"' -f4\n")),(0,i.kt)("h2",{id:"reporting-a-vulnerability"},"Reporting a Vulnerability"),(0,i.kt)("p",null,"To report security issues send an email to ",(0,i.kt)("a",{parentName:"p",href:"mailto:christian@rotzoll.de"},"christian@rotzoll.de")," (not for support)."),(0,i.kt)("p",null,"The following keys may be used to communicate sensitive information to developers:"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Name"),(0,i.kt)("th",{parentName:"tr",align:null},"Fingerprint"),(0,i.kt)("th",{parentName:"tr",align:null},"64-bit"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Rootzoll"),(0,i.kt)("td",{parentName:"tr",align:null},"92A7 46AE 33A3 C186 D014 BF5C 1C73 060C 7C17 6461"),(0,i.kt)("td",{parentName:"tr",align:null},"1C73 060C 7C17 6461")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Openoms"),(0,i.kt)("td",{parentName:"tr",align:null},"13C6 88DB 5B9C 745D E4D2 E454 5BFB 7760 9B08 1B65"),(0,i.kt)("td",{parentName:"tr",align:null},"5BFB 7760 9B08 1B65")))),(0,i.kt)("p",null,"You can import a key by running the following command with that individual\u2019s fingerprint:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"curl https://keybase.io/rootzoll/pgp_keys.asc | gpg --import\ncurl https://keybase.io/oms/pgp_keys.asc | gpg --import\n")),(0,i.kt)("p",null,"Ensure that you put quotes around fingerprints containing spaces if importing with other methods."),(0,i.kt)("h1",{id:"privacy-protection"},"Privacy Protection"),(0,i.kt)("p",null,"When you call ",(0,i.kt)("inlineCode",{parentName:"p"},"debug")," on the command line you get basic system & services logs that can be used if you need to report details for support by other users. There is already a basic redaction of private data (nodeids, IPv4s, .onion-addresses, balances) for that debug report BUT always check the data you post in DMs or public before sending. If you find further private data that needs redaction, please report as an issue on the github repo.  "),(0,i.kt)("h1",{id:"network-security"},"Network Security"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Limit attack surface: Wi-fi and Bluetooth is disabled by default in the build script."),(0,i.kt)("li",{parentName:"ul"},"Firewall: UFW is active and only specific ports are open, closing ports and removing hidden services when services are uninstalled."),(0,i.kt)("li",{parentName:"ul"},"Password brute forcing protection: Fail-2-Ban is protecting the SSH login against brute-force-attacks.")),(0,i.kt)("h1",{id:"software-security"},"Software security"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"The ",(0,i.kt)("inlineCode",{parentName:"p"},"admin")," (and the ",(0,i.kt)("inlineCode",{parentName:"p"},"joinmarket")," ","[optional]",") users have passwordless sudo access to be able to perform installations and read password without much user interaction.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Downloaded binaries and source code is verified with the authors' PGP keys by either:"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"signed shasum files and checking the hash of each downloaded binary"),(0,i.kt)("li",{parentName:"ul"},"verifying the signature on the source code changes utilising the ",(0,i.kt)("inlineCode",{parentName:"li"},"git verify-commit")," or ",(0,i.kt)("inlineCode",{parentName:"li"},"git verify-tag")," commands")))),(0,i.kt)("h1",{id:"physical-security"},"Physical Security"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"The lightning wallet and user interfaces are password protected by default so this has more privacy implications (in the case of physical theft) than security."),(0,i.kt)("li",{parentName:"ul"},"Basic hardening measures are applied to all non-root systemd services"),(0,i.kt)("li",{parentName:"ul"},"Optional log in through SSH using a hardware wallet."),(0,i.kt)("li",{parentName:"ul"},"LUKS encryption would be welcome in the future.")),(0,i.kt)("h1",{id:"on-chain-funds"},"On-chain Funds"),(0,i.kt)("p",null,"Please keep in mind that there can be two different on-chain wallets on the RaspiBlitz:"),(0,i.kt)("h2",{id:"lightning-wallet-default"},"Lightning Wallet (default)"),(0,i.kt)("p",null,"The default is the on-chain lightning wallet - that's the wallet where you normally send your funds before opening a channel & where your funds return to when you close a channel. With the initial word seed you get during RaspiBlitz setup, you can get access again to this on-chain wallet. Keep the seed words secure in a off-line location."),(0,i.kt)("h2",{id:"bitcoin-core-wallet-deactivated-by-default"},"Bitcoin Core Wallet (deactivated by default)"),(0,i.kt)("p",null,"Beside lightning you have a Bitcoin core installed. Normally, Bitcoin core acts just as a blockchain informational service to the lightning wallet and its internal separate on-chain wallet is deactivated. "),(0,i.kt)("p",null,"Some apps (like Fully Noded or JoinMarket) activate the Bitcoin core wallet and use it for their own needs. This on-chain balance will not be reflected in the rest of the RaspiBlitz software and is NOT backed up by the seed words from the RaspiBlitz setup. If you make use of the Bitcoin core wallet please take care of these funds. "),(0,i.kt)("h1",{id:"off-chain-funds-lightning-channels"},"Off-chain Funds (Lightning Channels)"),(0,i.kt)("p",null,"Please note that there is no perfect backup concept for the funds in your lightning channels yet. We strongly recommend using the ",(0,i.kt)("inlineCode",{parentName:"p"},"Static Channel Backup")," provided by LND and consider off-line location backup of that file to have the best chances to recover Lightning funds in a case of recovering from a disaster."),(0,i.kt)("p",null,"The C-lightning lightning.sqlite3 is replicated on the SDcard from the disk in real time. See more details in the ",(0,i.kt)("a",{parentName:"p",href:"faq/cl#backups"},"Core Lightning FAQ")),(0,i.kt)("p",null,"For more practical information on this topic see: ",(0,i.kt)("inlineCode",{parentName:"p"},"TODO: Backup Channel Funds README.md#backup-for-on-chain---channel-funds")))}u.isMDXComponent=!0}}]);